<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load TraCE21ka data — loadTrace • dsclim</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load TraCE21ka data — loadTrace"><meta name="description" content="loadTrace loads TraCE21ka for multiple time periods and variables.
loadHistoricalTraceGrid loads historical TraCE21ka data file for a single variable.
loadTraceGrid  Load non-historical TraCE21ka data for a single variable."><meta property="og:description" content="loadTrace loads TraCE21ka for multiple time periods and variables.
loadHistoricalTraceGrid loads historical TraCE21ka data file for a single variable.
loadTraceGrid  Load non-historical TraCE21ka data for a single variable."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dsclim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a1_Data_downloading_and_preprocessing.html">1. Data downloading and preprocessing</a></li>
    <li><a class="dropdown-item" href="../articles/a2_Load_source_data.html">2. Load source data</a></li>
    <li><a class="dropdown-item" href="../articles/a3_Downscale_with_Cross-validation.html">3. Downscaling with crossvalidation</a></li>
    <li><a class="dropdown-item" href="../articles/a4_Downscale_climate_data.html">4. Downscaling climate data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dinilu/dsclim/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Load TraCE21ka data</h1>
      <small class="dont-index">Source: <a href="https://github.com/dinilu/dsclim/blob/v1.0.0/R/TraCE21ka_functions.R" class="external-link"><code>R/TraCE21ka_functions.R</code></a></small>
      <div class="d-none name"><code>loadTrace.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>loadTrace</code> loads TraCE21ka for multiple time periods and variables.</p>
<p><code>loadHistoricalTraceGrid</code> loads historical TraCE21ka data file for a single variable.</p>
<p><code>loadTraceGrid</code>  Load non-historical TraCE21ka data for a single variable.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">loadTrace</span><span class="op">(</span></span>
<span>  <span class="va">files</span>,</span>
<span>  vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lon_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">25</span>, <span class="fl">25</span><span class="op">)</span>,</span>
<span>  lat_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">50</span><span class="op">)</span>,</span>
<span>  years <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compute_wss <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  selection_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tas"</span>, <span class="st">"tasmax"</span>, <span class="st">"tasmin"</span>, <span class="st">"hurs@992.5561"</span>, <span class="st">"ps"</span>, <span class="st">"pr"</span>, <span class="st">"cld"</span>,</span>
<span>    <span class="st">"wss"</span><span class="op">)</span>,</span>
<span>  dictionary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"TraCE21ka_dictionary.csv"</span>, package <span class="op">=</span> <span class="st">"dsclim"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">loadHistoricalTraceGrid</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lon_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">25</span>, <span class="fl">25</span><span class="op">)</span>,</span>
<span>  lat_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">50</span><span class="op">)</span>,</span>
<span>  years <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dictionary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"TraCE21ka_dictionary.csv"</span>, package <span class="op">=</span> <span class="st">"dsclim"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">loadTraceGrid</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  <span class="va">var</span>,</span>
<span>  lon_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">25</span>, <span class="fl">25</span><span class="op">)</span>,</span>
<span>  lat_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">50</span><span class="op">)</span>,</span>
<span>  dictionary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"TraCE21ka_dictionary.csv"</span>, package <span class="op">=</span> <span class="st">"dsclim"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-files">files<a class="anchor" aria-label="anchor" href="#arg-files"></a></dt>
<dd><p>Character vector indicating the TraCE21ka files to be loaded.</p></dd>


<dt id="arg-vars">vars<a class="anchor" aria-label="anchor" href="#arg-vars"></a></dt>
<dd><p>Character vector indicating the variables to be loaded.</p></dd>


<dt id="arg-lon-lim">lon_lim<a class="anchor" aria-label="anchor" href="#arg-lon-lim"></a></dt>
<dd><p>Numeric vector of length 2 with the longitudinal limits of the area of interest to be loaded.</p></dd>


<dt id="arg-lat-lim">lat_lim<a class="anchor" aria-label="anchor" href="#arg-lat-lim"></a></dt>
<dd><p>Numeric vector of length 2 with the latitudinal limits of the area of interest to be loaded.</p></dd>


<dt id="arg-years">years<a class="anchor" aria-label="anchor" href="#arg-years"></a></dt>
<dd><p>Numeric vector indicating the years of interest to be loaded. This is only relevant when loading historical period and not applied when loading files for older periods.</p></dd>


<dt id="arg-compute-wss">compute_wss<a class="anchor" aria-label="anchor" href="#arg-compute-wss"></a></dt>
<dd><p>Logical value indicating whether to compute wind speed (wss) from the two wind components (i.e. u and v) and include it in the output.</p></dd>


<dt id="arg-selection-vars">selection_vars<a class="anchor" aria-label="anchor" href="#arg-selection-vars"></a></dt>
<dd><p>Character vector indicating the name of the variables that are going to be kept in the output. This is useful when computing wind speed (wss) but the two wind components are not of interest and want to be excluded from the output.</p></dd>


<dt id="arg-dictionary">dictionary<a class="anchor" aria-label="anchor" href="#arg-dictionary"></a></dt>
<dd><p>Character string indicating a dictionary file to standardize climate variables, following the standard of climate4R framework (https://github.com/SantanderMetGroup/loadeR/wiki/Harmonization).</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>Character string with the name of the file (including relative path if not in the working directory).</p></dd>


<dt id="arg-var">var<a class="anchor" aria-label="anchor" href="#arg-var"></a></dt>
<dd><p>Character string indicating the name of the variable that is being loaded from the 'file'. It should be a standard name as defined in the 'dictionary' argument.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>List object with the structure of climate4R grids with the data from the TraCE21ka data.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>loadHistoricalTraceGrid</code> function is needed because dates in those files do not comply with standard dates format (because of negative dates) that are assumed in the internal functions of the <a href="https://rdrr.io/pkg/loadeR/man/loadGridData.html" class="external-link">loadeR::loadGridData</a> function. Hence, we extract the information manually and replicate the structure of the climate4R grid format.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>https://github.com/SantanderMetGroup/loadeR/wiki/Harmonization</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">LGM.files</span> <span class="op">&lt;-</span> <span class="fu"><a href="traceFileNames.html">traceFileNames</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"Data/TraCE21ka/"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">loadTrace</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">LGM.files</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"tas"</span>, <span class="st">"tasmax"</span>, <span class="st">"tasmin"</span>, <span class="st">"hurs@992.5561"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"ps"</span>, <span class="st">"pr"</span>, <span class="st">"cld"</span>, <span class="st">"u@992.5561"</span>, <span class="st">"v@992.5561"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  compute_wss <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  selection_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"tas"</span>, <span class="st">"tasmax"</span>, <span class="st">"tasmin"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"hurs@992.5561"</span>, <span class="st">"ps"</span>, <span class="st">"pr"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"cld"</span>, <span class="st">"wss"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tas</span> <span class="op">&lt;-</span> <span class="fu">loadHistoricalTraceGrid</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"Data/TraCE21ka/TS/trace.36.400BP-1990CE.cam2.h0.TS.2160101-2204012.nc"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"tas"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tas</span> <span class="op">&lt;-</span> <span class="fu">loadTraceGrid</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"Data/TraCE21ka/TS/trace.01.22000-20001BP.cam2.h0.TS.0000101-0200012.nc"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"tas"</span>,</span></span>
<span class="r-in"><span>  lon_lim <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  lat_lim <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Diego Nieto-Lugilde, Daniel Romera-Romera.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

